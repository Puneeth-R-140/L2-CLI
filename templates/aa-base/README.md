# {{project_name}}

Account Abstraction (ERC-4337) application on {{network_display}}.

## Overview

This project demonstrates gasless transactions using ERC-4337 smart accounts on Base. Users can interact with the blockchain without paying gas fees, enabled by a paymaster sponsor.

## Project Structure

```
├── contracts/         # Foundry smart contracts
│   ├── src/          # SimpleAccount.sol (ERC-4337)
│   ├── script/       # Deployment scripts
│   └── test/         # Contract tests
├── frontend/         # React application
    ├── src/
    │   ├── hooks/    # useSmartAccount hook
    │   └── components # GaslessButton component
    └── package.json
```

## Getting Started

### 1. Smart Contracts

```bash
cd contracts
forge install
forge build
forge test
```

#### Deploy to Base Sepolia

```bash
# Set your private key
export PRIVATE_KEY=your_private_key_here

# Deploy
forge script script/Deploy.s.sol:DeploySimpleAccount --rpc-url https://sepolia.base.org --broadcast
```

### 2. Frontend Application

```bash
cd frontend
npm install
```

#### Configure Environment

Copy `.env.example` to `.env` and add your API keys:

```env
VITE_BUNDLER_URL=https://api.pimlico.io/v2/84532/rpc?apikey=YOUR_API_KEY
VITE_PAYMASTER_URL=https://api.pimlico.io/v2/84532/rpc?apikey=YOUR_API_KEY
VITE_WALLETCONNECT_PROJECT_ID=YOUR_PROJECT_ID
```

**Get API keys:**
- Pimlico: https://dashboard.pimlico.io (free tier available)
- WalletConnect: https://cloud.walletconnect.com

#### Run Development Server

```bash
npm run dev
```

Open http://localhost:5173 to view the application.

## Features

### Smart Account
- ERC-4337 compliant smart account implementation
- Deterministic address generation based on owner
- EntryPoint v0.7 integration

### Gasless Transactions
- Zero gas cost for users
- Pimlico paymaster integration
- Bundler support for UserOperation execution

### Frontend
- React 18 with Vite
- RainbowKit for wallet connections
- permissionless.js for AA operations
- Tailwind CSS for styling

## How It Works

1. **Connect Wallet**: User connects their EOA (externally owned account)
2. **Smart Account Creation**: A smart contract wallet is generated, owned by the user's EOA
3. **Transaction Submission**: User initiates a transaction through their smart account
4. **Paymaster Sponsorship**: Pimlico paymaster pays the gas fees
5. **On-chain Execution**: Transaction is executed on Base Sepolia

The user never needs ETH in their wallet to transact.

## Technology Stack

- **Solidity**: Smart contract development
- **Foundry**: Contract testing and deployment
- **React**: Frontend framework
- **permissionless.js**: ERC-4337 library
- **viem**: Ethereum interaction library
- **Pimlico**: Bundler and paymaster infrastructure

## Development

### Contract Development

```bash
# Watch mode for tests
forge test --watch

# Gas report
forge test --gas-report

# Coverage
forge coverage
```

### Frontend Development

```bash
# Type checking
npm run type-check

# Build for production
npm run build

# Preview production build
npm run preview
```

## Resources

- [ERC-4337 Specification](https://eips.ethereum.org/EIPS/eip-4337)
- [Base Documentation](https://docs.base.org/)
- [Pimlico Documentation](https://docs.pimlico.io/)
- [permissionless.js Guide](https://docs.pimlico.io/permissionless)

## Generated by

This project was scaffolded using [L2 CLI](https://github.com/Puneeth-R-140/L2-CLI).

```bash
l2 init {{project_name}} --network base --account-abstraction
```
